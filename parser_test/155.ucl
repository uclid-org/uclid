//we gather 1 Syntax Error
//Error_Type is less words
//src file is <_io.TextIOWrapper name='test/test-nested-modules-1.ucl' mode='r' encoding='UTF-8'>
//We have error on line 25
//We have error on line 53
module main_func {
  type pc_t = enum {A, B, C};
  var pc : pc_t;
  init {
    pc = A;
  }
  next {
    case
      (pc == A) : { pc' = B; }
      (pc == B) : { pc' = C; }
      (pc == C) : { pc' = A; }
    esac
  }
}

module isr_func {
  type pc_t = enum {idle, D, E};
  var pc : pc_t;
  init {
    pc = idle;
  }
  next {
    case
      (pc == idle) : { pc' = D; }
      (pc == D)    : { pc' = E; }
	
    esac
  }
}

module sys {
  type main_pc_t = main_func.pc_t;
  type isr_pc_t  = isr_func.pc_t;

  var in_isr : boolean;

  instance main_f : main_func();
  instance isr_f  : isr_func();

  init {
    in_isr = false;
  }

  next {
    if (!in_isr) {
      next (main_f);
      havoc in_isr;
    } else {
      next (isr_f);
      if (isr_f.pc == idle) {
        in_isr' = false;
      }
    }
	
}
module main
{
  instance sys_f : sys();

  next {
    next (sys_f);
  }
}
